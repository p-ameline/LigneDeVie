package com.ldv.client.mvp_toons;

import com.allen_sauer.gwt.log.client.Log;
import com.google.gwt.user.client.ui.AbsolutePanel;
import com.google.gwt.user.client.ui.FlowPanel;
import com.google.inject.Inject;
import com.ldv.client.event.LdvBaseLineInitEvent;
import com.ldv.client.event.LdvBaseLineInitEventHandler;
import com.ldv.client.event.LdvMainSentEvent;
import com.ldv.client.event.LdvMainSentEventHandler;
import com.ldv.client.event.LdvProjectInitEvent;
import com.ldv.client.event.LdvProjectInitEventHandler;
import com.ldv.client.mvp.LdvProjectWindowPresenter;

import net.customware.gwt.presenter.client.EventBus;
import net.customware.gwt.presenter.client.place.Place;
import net.customware.gwt.presenter.client.place.PlaceRequest;
import net.customware.gwt.presenter.client.widget.WidgetDisplay;
import net.customware.gwt.presenter.client.widget.WidgetPresenter;

public class LdvBaseLinePresenter extends WidgetPresenter<LdvBaseLinePresenter.Display>
{
	public interface Display extends WidgetDisplay 
	{
	}

	public static final Place PLACE = new Place("Time Controler") ;
	
	protected LdvProjectWindowPresenter _project ;
		
	@Inject
	public LdvBaseLinePresenter(final Display display, EventBus eventBus) 
	{	
		super(display, eventBus);	
		bind();
		Log.info("entering constructor of LdvBasePresenter.");
	}
	  
	@Override
	public Place getPlace() {
		return PLACE ;
	}

	public void connectToProject(LdvBaseLineInitEvent event) 
	{			
		AbsolutePanel project = (AbsolutePanel) event.getProject() ;
		project.add(getDisplay().asWidget()) ;
	}

	@Override
	protected void onBind() 
	{			
		eventBus.addHandler(LdvBaseLineInitEvent.TYPE, new LdvBaseLineInitEventHandler() 
		{
			@Override
			public void onInitSend(LdvBaseLineInitEvent event) 
			{
				Log.info("Handling LdvBaseLineInitEvent event");
				connectToProject(event) ;
			}
		});
	}

	@Override
	protected void onPlaceRequest(PlaceRequest request) {
		
	}

	@Override
	protected void onUnbind() {
		
	}

	@Override
	public void refreshDisplay() {
		
	}

	@Override
	public void revealDisplay() {
		
	}

}
