package com.ldv.server.guice;

import net.customware.gwt.dispatch.server.guice.ActionHandlerModule;

import org.apache.commons.logging.Log;
import com.google.inject.Singleton;
import com.ldv.server.handler.CheckPseudoHandler;
import com.ldv.server.handler.GetLanguagesHandler;
import com.ldv.server.handler.RegisterUserHandler;
import com.ldv.server.handler.SendLdvHandler;
import com.ldv.server.handler.ValidateUserHandler;
import com.ldv.shared.rpc.LdvCheckPseudoAction;
import com.ldv.shared.rpc.LdvGetLanguagesAction;
import com.ldv.shared.rpc.LdvRegisterUserAction;
import com.ldv.shared.rpc.LdvValidatorUserAction;
import com.ldv.shared.rpc.SendLogin;

/**
 * Module which binds the handlers and configurations
 *
 */
public class ServerModule extends ActionHandlerModule
{
	@Override
	protected void configureHandlers()
	{
		bindHandler(SendLogin.class, SendLdvHandler.class) ;
		bindHandler(LdvCheckPseudoAction.class, CheckPseudoHandler.class) ;
		bindHandler(LdvRegisterUserAction.class, RegisterUserHandler.class) ;
		bindHandler(LdvGetLanguagesAction.class, GetLanguagesHandler.class) ;
		bindHandler(LdvValidatorUserAction.class, ValidateUserHandler.class) ;
  
		bind(Log.class).toProvider(LogProvider.class).in(Singleton.class) ;
	}
}
